# [1679. K å’Œæ•°å¯¹çš„æœ€å¤§æ•°ç›®](https://leetcode.cn/problems/max-number-of-k-sum-pairs/description/)

ä¸€é“æ¯”è¾ƒç®€å•çš„é¢˜ï¼Œè€Œä¸”è¿˜æ˜¯å‘¨èµ›çš„ç¬¬äºŒé¢˜ï¼Œæ„Ÿè§‰å¤šåˆ·å‡ ä¸ªæœˆï¼Œæˆ‘çœŸçš„å¯ä»¥éšä¾¿å†™å‘¨èµ›ä¸¤é“é¢˜ï¼Œç”šè‡³ä¸‰é“é¢˜ğŸ‘ï¼Œä½†æ˜¯è¿˜æ˜¯è¦ç»§ç»­åŠªåŠ›å•Šï¼Œæ¯•ç«Ÿæˆ‘è¿˜æ˜¯å¾ˆå–œæ¬¢åˆ·ç®—æ³•é¢˜çš„ï¼Œæ¯æ¬¡æ€è€ƒéƒ½ä½¿æˆ‘æ„Ÿè§‰ç‰¹åˆ«æ„‰æ‚¦ï¼Œç‰¹åˆ«æ˜¯æäº¤é€šè¿‡çš„æ—¶å€™
çœŸçˆ½ï¼Œæ‰€ä»¥æˆ‘è¿˜ä¼šç»§ç»­åŠªåŠ›çš„ã€‚

### ä¸‹é¢æ˜¯æˆ‘å†™çš„ä»£ç ï¼Œéšä¾¿çœ‹çœ‹å§ï¼Œå¾ˆç®€å•çš„

```cpp

class Solution {
public:
    int maxOperations(vector<int>& nums, int k) {
        unordered_map<int, int> hash;
        int ans = 0;
        for (int i = 0; i < nums.size(); ++i) {
            auto it = k - nums[i];
            if (hash.find(it) != hash.end()) {
                ans++;
                hash[it]--;
                if (hash[it] == 0)
                    hash.erase(it);
            } else {
                hash[nums[i]]++;
            }
        }
        return ans;
    }
};
```

---

### çœ‹äº†çµç¥çš„é¢˜è§£ä¹‹åï¼Œå¯ä»¥å†å°†æˆ‘çš„ä»£ç ä¼˜åŒ–ä¸€ç‚¹ï¼š

```cpp

class Solution {
public:
    int maxOperations(vector<int>& nums, int k) {
        unordered_map<int, int> hash;
        int ans = 0;
        for (int i = 0; i < nums.size(); ++i) {
            auto it = k - nums[i];
            if (hash.find(it) != hash.end() && hash[it] != 0) {
                ans++;
                hash[it]--;
            } else {
                hash[nums[i]]++;
            }
        }
        return ans;
    }
};
```

- **ä¼˜åŒ–å†…å®¹**ï¼š
  - **ç§»é™¤äº† `erase` æ“ä½œ**ï¼šä¸å†åœ¨è®¡æ•°é™ä¸ºé›¶æ—¶åˆ é™¤é”®å€¼å¯¹ï¼Œè€Œä»…ä»…æ˜¯å‡å°‘è®¡æ•°ã€‚è¿™é¿å…äº†é¢‘ç¹çš„åˆ é™¤æ“ä½œï¼Œä»è€Œå‡å°‘äº†å“ˆå¸Œè¡¨çš„æ“ä½œå¼€é”€ã€‚
  - **é€»è¾‘è°ƒæ•´**ï¼šåœ¨ `if` æ¡ä»¶ä¸­åŒæ—¶æ£€æŸ¥ `hash[it] != 0`ï¼Œç¡®ä¿åªæœ‰åœ¨è®¡æ•°å¤§äºé›¶æ—¶æ‰è¿›è¡Œé…å¯¹æ“ä½œã€‚

### ä¼˜åŒ–çš„ä¼˜åŠ¿
1. **æ€§èƒ½æå‡**ï¼šåˆ é™¤æ“ä½œåœ¨å“ˆå¸Œè¡¨ä¸­ç›¸å¯¹æ˜‚è´µï¼Œå°¤å…¶æ˜¯åœ¨é«˜é¢‘ç‡è°ƒç”¨çš„æƒ…å†µä¸‹ã€‚é€šè¿‡ç§»é™¤ä¸å¿…è¦çš„åˆ é™¤æ“ä½œï¼Œå¯ä»¥å‡å°‘æ—¶é—´å¤æ‚åº¦ï¼Œæé«˜æ•´ä½“æ€§èƒ½ã€‚
2. **ä»£ç ç®€æ´**ï¼šå‡å°‘äº†ä»£ç ä¸­çš„æ¡ä»¶åˆ†æ”¯ï¼Œä½¿é€»è¾‘æ›´åŠ ç®€æ´æ˜äº†ã€‚

### æ€»ç»“
é€šè¿‡ **ç§»é™¤åœ¨è®¡æ•°ä¸ºé›¶æ—¶å¯¹å“ˆå¸Œè¡¨çš„åˆ é™¤æ“ä½œ**ï¼Œä¼˜åŒ–åçš„ä»£ç å‡å°‘äº†ä¸å¿…è¦çš„å“ˆå¸Œè¡¨æ“ä½œï¼Œä»è€Œæé«˜äº†æ‰§è¡Œæ•ˆç‡ã€‚è¿™åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶å°¤å…¶èƒ½å¤Ÿä½“ç°å‡ºæ€§èƒ½çš„æå‡ã€‚

---

### å½“ç„¶ä¹Ÿæœ‰AIå†™çš„ç”¨æ—¶é—´æ¢ç©ºé—´çš„ï¼Œç”¨äº†ä¸ªsortæ’åºï¼Œç©ºé—´ä¸ºå¸¸é‡çº§ï¼Œ æˆ‘è§‰å¾—è¿™ä¸ªä¼˜åŒ–ä¸€èˆ¬èˆ¬ï¼Œç”šè‡³ä¸å¤ªè¡Œï¼Œä½†å¥½æ­¹ä¹Ÿæ˜¯ä¸ªæ€è·¯å§ï¼Œçœ‹çœ‹å°±å¥½ï¼Œä¸å¦‚æˆ‘è‡ªå·±å†™çš„

```cpp

class Solution {
public:
    int maxOperations(vector<int>& nums, int k) {
        sort(nums.begin(), nums.end()); // O(N log N) æ’åº
        int left = 0;
        int right = nums.size() - 1;
        int ans = 0;
        while (left < right) {
            int sum = nums[left] + nums[right];
            if (sum == k) {
                ans++;
                left++;
                right--;
            } else if (sum < k) {
                left++;
            } else {
                right--;
            }
        }
        return ans;
    }
};

```
